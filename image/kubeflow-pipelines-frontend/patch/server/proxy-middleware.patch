--- /app.ts
+++ /app.ts
@@ -182,8 +182,10 @@ function createUIServer(options: UIConfigs) {
       '/k8s/pod/logs',
       createProxyMiddleware({
         changeOrigin: true,
-        onProxyReq: proxyReq => {
-          console.log('Proxied log request: ', proxyReq.path);
+        on: {
+          proxyReq: proxyReq => {
+            console.log('Proxied log request: ', proxyReq.path);
+          }
         },
         headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
         pathRewrite: (pathStr: string, req: any) => {
@@ -208,8 +210,10 @@ function createUIServer(options: UIConfigs) {
       '/k8s/pod/logs',
       createProxyMiddleware({
         changeOrigin: true,
-        onProxyReq: proxyReq => {
-          console.log('Proxied log request: ', proxyReq.path);
+        on: {
+          proxyReq: proxyReq => {
+            console.log('Proxied log request: ', proxyReq.path);
+          }
         },
         headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
         pathRewrite: (pathStr: string, req: any) => {
@@ -249,8 +253,10 @@ function createUIServer(options: UIConfigs) {
     '/ml_metadata.*',
     createProxyMiddleware({
       changeOrigin: true,
-      onProxyReq: proxyReq => {
-        console.log('Metadata proxied request: ', (proxyReq as any).path);
+      on: {
+        proxyReq: proxyReq => {
+          console.log('Metadata proxied request: ', (proxyReq as any).path);
+        }
       },
       headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
       target: envoyServiceAddress,
@@ -284,8 +290,10 @@ function createUIServer(options: UIConfigs) {
     `/${apiVersion1Prefix}/*`,
     createProxyMiddleware({
       changeOrigin: true,
-      onProxyReq: proxyReq => {
-        console.log('Proxied request: ', proxyReq.path);
+      on: {
+        proxyReq: proxyReq => {
+          console.log('Proxied request: ', proxyReq.path);
+        }
       },
       headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
       target: apiServerAddress,
@@ -295,8 +303,10 @@ function createUIServer(options: UIConfigs) {
     `/${apiVersion2Prefix}/*`,
     createProxyMiddleware({
       changeOrigin: true,
-      onProxyReq: proxyReq => {
-        console.log('Proxied request: ', proxyReq.path);
+      on: {
+        proxyReq: proxyReq => {
+          console.log('Proxied request: ', proxyReq.path);
+        }
       },
       headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
       target: apiServerAddress,
@@ -307,8 +317,10 @@ function createUIServer(options: UIConfigs) {
     `${basePath}/${apiVersion1Prefix}/*`,
     createProxyMiddleware({
       changeOrigin: true,
-      onProxyReq: proxyReq => {
-        console.log('Proxied request: ', proxyReq.path);
+      on: {
+        proxyReq: proxyReq => {
+          console.log('Proxied request: ', proxyReq.path);
+        }
       },
       headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
       pathRewrite: pathStr =>
@@ -320,8 +332,10 @@ function createUIServer(options: UIConfigs) {
     `${basePath}/${apiVersion2Prefix}/*`,
     createProxyMiddleware({
       changeOrigin: true,
-      onProxyReq: proxyReq => {
-        console.log('Proxied request: ', proxyReq.path);
+      on: {
+        proxyReq: proxyReq => {
+          console.log('Proxied request: ', proxyReq.path);
+        }
       },
       headers: HACK_FIX_HPM_PARTIAL_RESPONSE_HEADERS,
       pathRewrite: pathStr =>
--- /handlers/artifacts.ts
+++ /handlers/artifacts.ts
@@ -447,14 +447,16 @@ export function getArtifactsProxyHandler({
     return (req, res, next) => next();
   }
   return createProxyMiddleware(
-    (_pathname, req) => {
-      // only proxy requests with namespace query parameter
-      return !!getNamespaceFromUrl(req.url || '');
-    },
     {
       changeOrigin: true,
-      onProxyReq: proxyReq => {
-        console.log('Proxied artifact request: ', proxyReq.path);
+      pathFilter: (_pathname, req) => {
+        // only proxy requests with namespace query parameter
+        return !!getNamespaceFromUrl(req.url || '');
+      },
+      on: {
+        proxyReq: proxyReq => {
+          console.log('Proxied artifact request: ', proxyReq.path);
+        }
       },
       pathRewrite: (pathStr, req) => {
         const url = new URL(pathStr || '', DUMMY_BASE_PATH);
--- /proxy-middleware.ts
+++ /proxy-middleware.ts
@@ -71,7 +71,7 @@ export default (app: express.Application, apisPrefix: string) => {
     proxyPrefix + '*',
     createProxyMiddleware({
       changeOrigin: true,
-      logLevel: process.env.NODE_ENV === 'test' ? 'warn' : 'debug',
+      // logLevel: process.env.NODE_ENV === 'test' ? 'warn' : 'debug',
       target: 'http://127.0.0.1',
       router: (req: any) => {
         return _routePathWithReferer(proxyPrefix, req.path, req.headers.referer as string);
